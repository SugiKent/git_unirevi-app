<div class="container">
  <h2>~新規投稿~</h2>
  <div class="main">
    <span id="week"><%= @tweet.week %></span>
    <span id="subject"><%= @tweet.subject %></span>
    <span id="name"><%= @tweet.name %></span>
  </div>

  <%= form_for [@tweet, @review] do |f| %>
  <div class="rate">
    <%= f.label :おすすめ度 %>
    <%# :rateじゃだめ？ %>
    <%= f.select :rate,[["10","10"],["9","9"],["8","8"],["7","7"],["6","6"],["5","5"],["4","4"],["3","3"],["2","2"],["1","1"]], include_blank:"選択してください"%>
  </div>
  <div class="score">
    <%# 無理してf.label使わなくても、この場合は <label></label>でいいと思う。f.labelは言語ファイルをちゃんと書いている時に便利 %>
    <%= f.label :履修して取れた成績 %>
    <%# :scoreじゃだめ？ %>
    <%= f.select :score,[["AA(特優)","AA(特優)"],["A(優)","A(優)"],["B(良)","B(良)"],["C(可)","C(可)"],["F(不可)","F(不可)"],["X(評価不能)","X(評価不能)"]],
        include_blank:"選択してください"%>
  </div>
  <div class="textarea">
    <%= f.text_area :review, placeholder: '自分が履修してみた感想や次、履修する人へのアドバイスを書いてね！！' %>
  </div>
  <div class="touch">
    <%# f.submit っていうのがあったはず %>
    <%= button_tag type: "submit", class: "btn" do %>
    投稿する
    <% end %>
  </div>
  <% end %>
</div>

<div class="sub-contentsss">
  　　 <div class="sub-title2">
    　　 　<i class="fas fa-chess-queen"></i>
    <h4 class="text-ranking">
      投稿数が多いランキング
    </h4>
  </div>
  <div class="rank">
    <% @ranking.each.with_index(1) do |tweet, i| %>
    <span class="number"><%= i %>位</span>
    <a href="/tweets/<%= tweet.id %>">
      <div class="frame">
        <span><%= tweet.week %></span>
        <span class="text-subject"><%= tweet.subject %></sapn>
          <span class="text-name"><%= tweet.name %></span>

          <div class="text-small">
            <% if tweet.reviews.present? %>
            <span class="rating-star">
              <%# このreview_averageでN+1起きていないかな？tweetの数だけcountが走っているのはクエリ非効率です %>
              <i class="star-actived rate-<%= tweet.review_average %>0"></i>
            </span>
            <% else %>
            <span class="rating-star">
              <i class="star-actived rate-0"></i>
            </span>
            <% end %>
          </div>

      </div>
    </a>
    <% end %>
  </div>
</div>
